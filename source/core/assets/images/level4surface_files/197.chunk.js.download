(window.odspNextWebpackJsonp=window.odspNextWebpackJsonp||[]).push([["197"],{3404:function(e,t,n){"use strict";n.r(t);n.d(t,"resourceKey",function(){return b});var r=n(5),i=n(0),s=n(8),o=n(31),u=n(2107),a=n(6),f=n(15),l=(function(e){Object(i.__extends)(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.getStorageNavigationAction=function(){var e=this.resources.consume(f.ye).getManageStorageUrl()+"?biciid=superbar",t=this.resources.consume(a.e);return new(this.managed(t.NavigationAction))({url:e})};return t})(s.n),c=(function(e){Object(i.__extends)(t,e);function t(t){var n=e.call(this,t)||this;n.types=[3];n._userInfoProvider=n.resources.consume(o.L);n._notifications=n.resources.consume(o.c);var r=new(n.managed(l));n._navigationAction=r.getStorageNavigationAction();return n}t.prototype.handleNotification=function(e){e&&this._showNotification()};t.prototype.showNotification=function(){return this._notifications.requestNotification({text:u.r,action:this._navigationAction,actionText:u.i})};t.prototype._showNotification=function(){var e=this,t=function(){e._userInfoProvider.setUserInfo(3,2,null)};this.showNotification().wait().then(t,t)};return t})(s.n),h=n(48),p=n(79),d=(function(e){Object(i.__extends)(t,e);function t(t){var n=e.call(this,t)||this;n.types=[108];n._notifications=n.resources.consume(o.c);var r=new(n.managed(l));n._navigationAction=r.getStorageNavigationAction();n._processUrl();return n}t.prototype.handleNotification=function(e){};t.prototype.showNotification=function(){return this._notifications.requestNotification({text:"Messages comes from server response... it will say something about user referral",action:this._navigationAction,actionText:u.i})};t.prototype._processUrl=function(){var e=this,t=this.resources.consume(h.e),n=this.resources.consume(p.resourceKey),r=t.viewParams,i=r.invref,s=r.invsrc;if(i){n.processReferral(i,s).then(function(t){if(t.showIneligiblePopover&&t.ineligiblePopoverMessage){var n={text:t.ineligiblePopoverMessage,action:e._navigationAction,actionText:u.n};e._notifications.requestNotification(n)}},function(e){});delete r.invref;delete r.invsrc}};return t})(s.n),v=(function(e){Object(i.__extends)(t,e);function t(t){var n=e.call(this,t)||this;n.types=[23];n._notifications=n.resources.consume(o.c);n._createAction();return n}t.prototype.handleNotification=function(e){e&&e.param&&e.param.indexOf("IsNotOwner")>=0&&this.showNotification()};t.prototype.showNotification=function(){return this._notifications.requestNotification({text:u.a,severity:2,action:this._navigationAction,actionText:u.u})};t.prototype._createAction=function(){var e=this.resources.consume(f.ye),t=e.getOwnerId(),n=e.getSharedByUrl(t,t),r=this.resources.consume(a.e);this._navigationAction=new(this.managed(r.NavigationAction))({url:n})};return t})(s.n),m=(function(e){Object(i.__extends)(t,e);function t(t){var n=e.call(this,t)||this;n.types=[103];n.listenToCurrentItem=!0;n._notifications=n.resources.consume(o.c);n._currentItem=n.resources.consume(a.s);n.createComputed(n._proccessItemChanged);return n}t.prototype.handleNotification=function(e){};t.prototype.showNotification=function(){return this._notifications.requestNotification({text:this._text||u.t})};t.prototype._proccessItemChanged=function(){var e=this._currentItem();if(e&&e.taskStatus&&e.taskStatus.deleteAllCount){switch(e.taskStatus.deleteAllCount){case-1:this._text=u.t;break;default:this._text=u.e}e.taskStatus.deleteAllCount=0;this.showNotification()}};return t})(s.n),g=(function(e){Object(i.__extends)(t,e);function t(t){var n=e.call(this,t)||this;n.types=[102];n.listenToCurrentItem=!0;n._notifications=n.resources.consume(o.c);n._currentItem=n.resources.consume(a.s);n.createComputed(n._proccessItemChanged);return n}t.prototype.handleNotification=function(e){};t.prototype.showNotification=function(){return this._notifications.requestNotification({text:this._text||u.o})};t.prototype._proccessItemChanged=function(){var e=this._currentItem();if(e&&e.taskStatus&&e.taskStatus.restoreAllCount){switch(e.taskStatus.restoreAllCount){case-1:this._text=u.o;break;default:this._text=u.s}e.taskStatus.restoreAllCount=0;this.showNotification()}};return t})(s.n),y=(function(){function e(e,t){}e.prototype.loadGlobalHandlers=function(e){e(c);e(d);e(v)};e.prototype.loadPageHandlers=function(e){e(m);e(g)};return e})(),b=(t.default=y,Object(r.s)("NotificationsDataSource",y,{}))}}]);